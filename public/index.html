<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Forex & Crypto Prices</title>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #0a0e27; color: #fff; padding: 20px; }
        h1 { text-align: center; margin-bottom: 30px; color: #00d4ff; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; }
        .card { background: #1a1f3a; border-radius: 10px; padding: 15px; border: 1px solid #2a3f5f; }
        .pair { font-size: 20px; font-weight: bold; color: #00d4ff; margin-bottom: 10px; }
        .price { font-size: 28px; font-weight: bold; margin: 10px 0; }
        .up { color: #00ff88; }
        .down { color: #ff4444; }
        .details { display: flex; justify-content: space-between; font-size: 14px; color: #888; margin-top: 10px; }
        .time { font-size: 12px; color: #666; margin-top: 5px; }
    </style>
</head>
<body>
    <h1>ðŸ”´ Live Market Data - Real-time</h1>
    <div id="prices" class="grid"></div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBMVGiV0_jgRpXxS_fkWzze3DJ0lYKIiek",
            authDomain: "tradingviewapi-d95ac.firebaseapp.com",
            databaseURL: "https://tradingviewapi-d95ac-default-rtdb.firebaseio.com",
            projectId: "tradingviewapi-d95ac",
            storageBucket: "tradingviewapi-d95ac.firebasestorage.app",
            messagingSenderId: "856092009094",
            appId: "1:856092009094:web:8627aa2536902ca9b02707"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const pricesDiv = document.getElementById('prices');
        const prevPrices = {};

        database.ref('prices').on('value', (snapshot) => {
            const data = snapshot.val();
            if (!data) return;
            
            pricesDiv.innerHTML = '';
            
            Object.keys(data).sort().forEach(pair => {
                const price = data[pair];
                const prev = prevPrices[pair] || price.price;
                const direction = price.price > prev ? 'up' : price.price < prev ? 'down' : '';
                prevPrices[pair] = price.price;
                
                pricesDiv.innerHTML += `
                    <div class="card">
                        <div class="pair">${price.pair}</div>
                        <div class="price ${direction}">${price.price.toFixed(price.price > 100 ? 2 : 5)}</div>
                        <div class="details">
                            <span>O: ${price.open.toFixed(2)}</span>
                            <span>H: ${price.high.toFixed(2)}</span>
                            <span>L: ${price.low.toFixed(2)}</span>
                        </div>
                        <div class="time">${new Date(price.time).toLocaleString()}</div>
                    </div>
                `;
            });
        });
    </script>
</body>
</html>
